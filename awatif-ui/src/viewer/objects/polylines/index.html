<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Awatif UI - Viewer - Polylines</title>
  </head>
  <body>
    <script type="module">
      import van from "vanjs-core";
      import { getViewer } from "../../getViewer.ts";

      /* Manual Test cases
      1- Select a polyline by clicking on it
      2- Deselect a polyline by clicking right-click
      3- Move a point by click and drag it
      
      4- Add new points without branching by click on the end of the polyline
      5- Remove a point by right-click on it without branching
      6- Add a new point with branching by click on the middle of the polyline on a point
      8- Add a new point with branching by click on the middle of the polyline on a line (splitting)
      9- Remove branching point by right-click on it

      10- Do it all with multiple polylines 
      11- Add a new polyline from scratch by clicking on the canvas
      */

      const polylines = new Map([
        [
          0,
          {
            points: van.state([
              [0, 0, 0],
              [2, 2, 0],
              [4, 0, 0],
              [5, 1, 0],
            ]),
            branches: van.state([[0, 1, 2]]),
          },
        ],
      ]);

      document.body.append(getViewer({ polylines }));
    </script>
  </body>
</html>
